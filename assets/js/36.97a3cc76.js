(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{474:function(t,a,s){"use strict";s.r(a);var n=s(33),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"navigation-bar-和-tab-bar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#navigation-bar-和-tab-bar"}},[t._v("#")]),t._v(" navigation bar 和 tab bar")]),t._v(" "),s("p",[t._v("Author: Tim Jing")]),t._v(" "),s("h2",{attrs:{id:"tabbar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tabbar"}},[t._v("#")]),t._v(" TabBar")]),t._v(" "),s("h3",{attrs:{id:"官方原生"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#官方原生"}},[t._v("#")]),t._v(" 官方原生")]),t._v(" "),s("ul",[s("li",[t._v("app.json 声明，最多五个。")]),t._v(" "),s("li",[t._v("图片必须是本地路径。"),s("code",[t._v("wx.setTabBarItem")]),t._v(" 支持了网络文件。")]),t._v(" "),s("li",[t._v("不能定制化增减。")]),t._v(" "),s("li",[t._v("样式单一（icon 大小，颜色等)。")]),t._v(" "),s("li",[t._v("拥有最高优先级，自定义遮罩层无法覆盖。")]),t._v(" "),s("li",[t._v("反应快速，配置简单，加载快。")])]),t._v(" "),s("h3",{attrs:{id:"官方自定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#官方自定义"}},[t._v("#")]),t._v(" 官方自定义")]),t._v(" "),s("h3",{attrs:{id:"自定义组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件"}},[t._v("#")]),t._v(" 自定义组件")]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("wx.navigateTo")]),t._v(" 跳转。页面加载效果和 "),s("code",[t._v("switchTab")]),t._v(" 不一样。")]),t._v(" "),s("li",[t._v("需要自己缓存结点。")])]),t._v(" "),s("h2",{attrs:{id:"原生的-navigation-bar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原生的-navigation-bar"}},[t._v("#")]),t._v(" 原生的 navigation bar")]),t._v(" "),s("h3",{attrs:{id:"page-meta-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#page-meta-组件"}},[t._v("#")]),t._v(" page-meta 组件")]),t._v(" "),s("ul",[s("li",[t._v("配合 navigate-bar 组件一起使用。配置页面属性，只能是页面第一个节点。")]),t._v(" "),s("li",[t._v("与配置文件 "),s("code",[t._v("json")]),t._v(" 的区别是这里可以动态设置。")])]),t._v(" "),s("h3",{attrs:{id:"navigation-bar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#navigation-bar"}},[t._v("#")]),t._v(" navigation-bar")]),t._v(" "),s("ul",[s("li",[t._v("只能是 page-meta 组件内的第一个节点。")])]),t._v(" "),s("h2",{attrs:{id:"自定义-navigation-bar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义-navigation-bar"}},[t._v("#")]),t._v(" 自定义 navigation bar")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("配置自定义")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"window"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationStyle"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("wx.getSystemInfo()")]),t._v(" 返回值")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("statusBarHeight")]),t._v(" 状态栏高度。")]),t._v(" "),s("li",[s("code",[t._v("windowHeight")]),t._v(" 可使用窗口高度。")]),t._v(" "),s("li",[s("code",[t._v("safeArea")])])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("wx.getMenuButtonBoundingClientRect()")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("top")]),t._v(" 、"),s("code",[t._v("width")]),t._v(" 、"),s("code",[t._v("height")])]),t._v(" "),s("li",[t._v("有可能获取错误或者为0。")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"navigate-bar.assets/webp.webp",alt:"img"}})]),t._v(" "),s("ul",[s("li",[t._v("navigationBarHeight = 蓝框高度 * 2 + 胶囊高度")]),t._v(" "),s("li",[t._v("蓝框高度胶囊 top - statusBarHeight")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" statusBarHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" platform "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemInfoSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" top"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMenuButtonBoundingClientRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 状态栏高度")]),t._v("\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStorageSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'statusBarHeight'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" statusBarHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 胶囊按钮高度 一般是32 如果获取不到就使用32")]),t._v("\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStorageSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'menuButtonHeight'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断胶囊按钮信息是否成功获取")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" navigationBarHeight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" statusBarHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" height\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导航栏高度")]),t._v("\n    wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStorageSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'navigationBarHeight'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" navigationBarHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStorageSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'navigationBarHeight'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      platform "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'android'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);