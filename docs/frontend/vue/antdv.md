# Ant Design of Vue 

> 文档：<https://www.antdv.com/docs/vue/introduce-cn/>

由于 antd 的封装问题，可能在某些特殊的场景下，无法很好地适配，本文主要记录困扰过我的一些坑，具体的使用详情请仔细阅读文档。

## Form 表单

具有数据收集、校验和提交功能的表单，包含复选框、单选框、输入框、下拉选择框等元素。

### 背景：

- 最近在对客户群组数据进行细分，涉及到对旧版的群组选择器组件做加强，加强的组件可以针对数据来源做区分。旧版的选择器是一个普通的表单子项包裹着树选择器，由于新版群组选择器的复用性，需要重新单独封装一个组件，然后替换所有旧版的群组选择器即可。
  
### 难点：

- 新封装的群组选择器组件需要像往常使用树选择那样，支持树选择器的相关属性。
  - tip: 自定义组件的时候，要想在 antdv 组件外再嵌套一层，又能保证正常使用之前组件的自定义属性，可以使用 `v-bind="$attrs" `来绑定数据。
- 在新封装的组件身上使用 `v-decorator` 来进行验证的时候发现报错：
  - 查询资料后得知，表单子元素在验证的时候，会劫持他的 onBlur 或 onChange 事件，所以需要在 `a-form-item` 身上使用自定义校验，在 onChange 事件中完善校验规则。
  
